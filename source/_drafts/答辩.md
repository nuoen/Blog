各位评委老师，下午好！

我是张强，很荣幸参加此次14级晋升的答辩。我是一名客户端研发，自从加入公司以来，一直在TVB工作。早期在北京期间，主要负责小米视频。来到南京之后，我主要负责小米教育中心以及电视桌面播放。

在加入研发中心南京团队后，我对部门的OKR进行了拆解，聚焦两个核心方面：多终端建设和播放体验优化。映射到我的个人OKR是小米教育中心的核心功能开发与电视播放场景的拓展。
在这些OKR的指引下，我取得了以下成果：
战功一：一个月从0到1完成了小米教育中心的落地,
战功二：mv场景的建设，有效缩短用户核心路径 ，
内功一：针对小米教育中心累计输出文档21篇，
内功二：利用专业力促进电视桌面代码逻辑优化和疑难问题解决。

对于战功一。为什么要做小米教育中心呢，这是因为在市场需求、品牌战略和竞争压力三个方面决定必须要有他。
在这个项目中，我面临三大挑战：
1.需要在一周内完成两个十万行级项目的合并
2.政府对儿童类APP强监管，这就要求核心管控功能的健壮和高效 
3.在进版时发现冷启速度不达标，阻塞了进版。

对于挑战一，为了缩短工期，小米教育中心由两个十万行级的项目儿童空间和米兔儿童合并而来，

但是合并需要进行模块拆解以及依赖处理，这都需要大量的时间，而我们所缺的就是时间，

针对这一个问题，我的解决方法如下：对于新项目，新建了一个APP模块之后，将拆解后的功能模块作为独立的LIB模块，并通过统一的依赖管理脚本，确保所有模块的依赖一致性。也就是APP模块使用APP配置，所有LIB模块使用lIB配置，他们共同使用公共配置。从而达到如果要修改一个依赖，只要在LIB配置或公共配置里修改，就会对所有模块生效，用此方法，极大的减少了合并时的编译报错，增加了合并效率，预估节省了80%的合并时间。

对于挑战二，：由于政府对儿童类APP的强监管，这就要求有一种框架在承接上层页面显示和整合下层系统依赖的同时，保障12种管控能力高效稳定的运行。

针对这一挑战，我设计了一个分层解耦的管控框加，。该框架代码结构分为三层：管理层负责管控能力的配置和加载，实现层负责功能的具体实现，抽象层负责对12种功能进行生命周期管理。此外，我将功能根据不同的生命周期分为两大类：打开APP到退出APP的全局生命周期和打开APP,进入家长页面，退出家长页面，关闭APP的守护生命周期。

运行时序图显示了这两类生命周期的工作过程，其中红色代表了全局生命周期模块，绿色代表了守护生命周期模块，具体的过程为：从进入APP开始，红色模块依次启动，，紧接着依次开启绿模块，当进入家长页面时，就会暂停绿色模块，当退出家长页面时，绿色会重启，离开APP时，所有模块都会关闭。

以上介绍的是整体框架的代码结构和运行时序，现在说一下具体的模块实现。
时间管控功能类会继承一个模板类，模版类为一个接口和一个抽象类，接口定义了生命周期方法，抽象类定义模块是否可用，实现类要重写所有的方法来实现具体的功能，这样通过模板类实现了生命周期的解耦，同时保证了管控能力的单一职责，整个框架就有了高内聚，低耦合的特点。

对于挑战三，在进版时发现冷启速度不达标，速度需要<1000ms，但是现状是>2000ms，阻塞了进版。

针对挑战三，我对系统冷启动流程进行了全面梳理，将启动阶段划分的4个关键时器。并结合自身代码选择两个可优化时期，在预绘制阶段，我通过引入冷启动背景图进行了视觉优化，缩短了500ms的启动时间；在应用创建阶段，通过减少同步初始化，使用异步线程进行业务逻辑的初始化，并使用MMKV替代SP等方式，将启动时间进一步优化了1000ms，最终冷启动时间被缩短至500ms，满足了进版要求。

通过这些努力，我们在短短一个月内顺利实现了小米教育中心的落地。得益于其稳定的管控功能，这一项目也为平板销售提供了有力支持，并最终获得了“王者之师”奖。


对于战功二的背景是：当前MV播放场景路径较深，用户需要经过多个步骤才能播放。因此，希望通过短带长，使用户能够直接在频道页面中快速播放音乐高潮片段，吸引更多的观众。

在这个需求中，共有两点挑战：
挑战一：需要在当贝SDK中接入酷狗，合作模式特殊，场景复杂
挑战二：android11上mv播放严重卡顿，影响体验
针对挑战一，我对现有的播放层级进行拆解，利用当贝SDK作为跳板，直接使用其酷狗播放器MV的能力，当mv进行首屏起播时，会加载当贝的插件，从插件中获取酷狗播放器，通过酷狗播放器来播放MV，解决了合作模式特殊的问题。

在Android 11系统上，MV播放时存在严重的卡顿现象。经过日志分析，问题的根源在于setSurfaceView为null的情况，这源于使用GLSurfaceView时在切换视频过程中产生的竞态条件。为此，我优化了GLSurfaceView的切换流程，在切换视频前销毁GLSurfaceView，再生成新的GLSurfaceView，最终成功解决了卡顿问题。

在战功的成果为，MV播放的日活跃用户达到了54万，月活跃用户481万，播放渗透率达到90.04%，付费转化率也提升至1.2%。这一成果极大地改善了音乐类放体验，同时拓展了短带长场景的流畅播放能力。

对于内功：在小米教育中心业务期间共输出21篇技术文档，并利用专业力帮助团队提升技术积累，解决了电视桌面的多项难题。



